<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Simple Dictionary</title>
    <style>
      :root{
        --bg:#0b0f1a; --panel:#121a2b; --accent:#ff2d55; --text:#e9f0ff; --muted:#9bb0ff;
      }
      *{box-sizing:border-box}
      html,body{height:100%;margin:0;background:radial-gradient(1200px 600px at 50% 0%, #121a2b 0%, #0b0f1a 60%, #05070c 100%);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Arial}
      .wrap{min-height:100%;display:grid;place-items:center;padding:20px}
      .card{width:min(760px,95vw);background:linear-gradient(180deg,#151e33 0%, #0f1530 100%);border:1px solid #1d2a4d;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.5);padding:20px}
      h1{margin:0 0 12px;font-size:26px;letter-spacing:.3px}
      p.muted{color:#a9b4d9;margin:6px 0 18px}
      .row{display:flex;gap:10px}
      input[type=text]{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #26356a;background:#0f1730;color:#e9f0ff;font-size:16px;outline:none}
      button{background:linear-gradient(180deg,#ff3b6b,#ff0f4d);border:none;color:white;padding:12px 16px;border-radius:10px;font-weight:700;letter-spacing:.3px;cursor:pointer;box-shadow:0 6px 18px rgba(255,45,85,.35);transition:.15s transform}
      button:hover{transform:translateY(-1px)}
      .result{margin-top:16px;padding:14px;border:1px solid #253464;border-radius:12px;background:#0f1730;min-height:64px}
      .word{font-weight:800;letter-spacing:.5px}
      .loading{opacity:.8;font-style:italic}
      footer{opacity:.7;font-size:12px;margin-top:10px}
      a{color:#ff7aa1}
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="card">
        <h1>Simple Dictionary</h1>
        <p class="muted">Type a word to get a short, easy-to-understand definition.</p>
        <div class="row">
          <input id="wordInput" type="text" placeholder="Enter a word..." autocomplete="off" />
          <button id="defineBtn">Define</button>
        </div>
        <div id="result" class="result"></div>
        <footer>
          Tip: Press Enter to define. API key is stored securely in Azure Static Web Apps application settings.
        </footer>
      </div>
    </div>

    <script>
      const $input = document.getElementById('wordInput');
      const $btn = document.getElementById('defineBtn');
      const $result = document.getElementById('result');

      function show(msg, asLoading=false){
        $result.textContent = msg;
        $result.classList.toggle('loading', !!asLoading);
      }

      async function defineWord(){
        const word = ($input.value || '').trim();
        if(!word){ show('Please enter a word.'); return; }
        show('Thinkingâ€¦', true);
        try{
          const r = await fetch(`/api/define?word=${encodeURIComponent(word)}`);
          const data = await r.json();
          if(!r.ok){ throw new Error(data?.error || 'Error from API'); }
          show(`${data.word}: ${data.definition}`);
        }catch(err){
          show(`Sorry, something went wrong. ${err.message || ''}`.trim());
        }
      }

      $btn.addEventListener('click', defineWord);
      $input.addEventListener('keydown', (e)=>{
        if(e.key === 'Enter') defineWord();
      });
      $input.focus();
    </script>
  </body>
</html>

